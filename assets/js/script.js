function removeParam(key, url) {
    if (!url) url = window.location.href;

    var hashParts = url.split('#');

    var regex = new RegExp("([?&])" + key + "=.*?(&|#|$)", "i");

    if (hashParts[0].match(regex)) {
        //REMOVE KEY AND VALUE
        url = hashParts[0].replace(regex, '$1');

        //REMOVE TRAILING ? OR &
        url = url.replace(/([?&])$/, '');

        //ADD HASH
        if (typeof hashParts[1] !== 'undefined' && hashParts[1] !== null)
            url += '#' + hashParts[1];
    }

    return url;
}



function thisFunc() {
    var filters = new Array();
    var url=window.location.toString();
    var url = removeParam("filters", url);
    for (var i = 1; i <= 4; i++) {
        var check = document.getElementById("c" + i);

        if (check.checked !== true) {
            filters.push(check.getAttribute("value"));
        }
    }


    console.log(JSON.stringify(url + "&filters="+JSON.stringify(filters)));
    if (url.indexOf("?") > -1) {
        window.location = url + "&filters="+JSON.stringify(filters);
    } else {
        window.location = url + "?filters="+JSON.stringify(filters);
    }
}


function thisFunc1() {
    var check1 = document.getElementById("c1");
    if (check1.getAttribute("checked") === "unchecked") {
        for (var i = 0; i < document.getElementsByClassName('row-category-webapps').length; i++) {
            document.getElementsByClassName('row-category-webapps')[i].style.display = "table-row";
        }
        check1.setAttribute("checked", "checked");
    } else {
        for (var i = 0; i < document.getElementsByClassName('row-category-webapps').length; i++) {
            document.getElementsByClassName('row-category-webapps')[i].style.display = "none";
        }
        check1.setAttribute("checked", "unchecked");
    }
}

function thisFunc2() {
    var check2 = document.getElementById("c2");
    if (check2.getAttribute("checked") === "unchecked") {
        for (var i = 0; i < document.getElementsByClassName('row-category-remote').length; i++) {
            document.getElementsByClassName('row-category-remote')[i].style.display = "table-row";
        }
        check2.setAttribute("checked", "checked");
    } else {
        for (var i = 0; i < document.getElementsByClassName('row-category-remote').length; i++) {
            document.getElementsByClassName('row-category-remote')[i].style.display = "none";
        }
        check2.setAttribute("checked", "unchecked");
    }
}

function thisFunc3() {
    var check3 = document.getElementById("c3");
    if (check3.getAttribute("checked") === "unchecked") {
        for (var i = 0; i < document.getElementsByClassName('row-category-local').length; i++) {
            document.getElementsByClassName('row-category-local')[i].style.display = "table-row";
        }
        check3.setAttribute("checked", "checked");
    } else {
        for (var i = 0; i < document.getElementsByClassName('row-category-local').length; i++) {
            document.getElementsByClassName('row-category-local')[i].style.display = "none";
        }
        check3.setAttribute("checked", "unchecked");
    }
}

function thisFunc4() {
    var check4 = document.getElementById("c4");
    if (check4.getAttribute("checked") === "unchecked") {
        for (var i = 0; i < document.getElementsByClassName('row-category-dos').length; i++) {
            document.getElementsByClassName('row-category-dos')[i].style.display = "table-row";
        }
        check4.setAttribute("checked", "checked");
    } else {
        for (var i = 0; i < document.getElementsByClassName('row-category-dos').length; i++) {
            document.getElementsByClassName('row-category-dos')[i].style.display = "none";
        }
        check4.setAttribute("checked", "unchecked");
    }
}

var menu_opened = false;

function open_menu() {
    if (menu_opened == false) {
        document.getElementById("left").style.height = 'auto';
        document.getElementById("left").style.display = 'block';
        menu_opened = true;
    } else {
        document.getElementById("left").style.height = '0px';
        document.getElementById("left").style.display = 'none';
        menu_opened = false;
    }

}

function close_but() {
    document.getElementById("left").style.height = '0px';
}


//Alert close btn
// Get all elements with class="closebtn"
var close = document.getElementsByClassName("closebtn");
var i;

// Loop through all close buttons
for (i = 0; i < close.length; i++) {
    // When someone clicks on a close button
    close[i].onclick = function () {

        // Get the parent of <span class="closebtn"> (<div class="alert">)
        var div = this.parentElement;

        // Set the opacity of div to 0 (transparent)
        div.style.opacity = "0";

        // Hide the div after 600ms (the same amount of milliseconds it takes to fade out)
        setTimeout(function () {
            div.style.display = "none";
        }, 600);
    }
}